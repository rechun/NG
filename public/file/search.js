define("common",[],function(){var e={win:$(window),doc:$(document),init:function(){}},t={};return e.init(),t}),define("tool-cookie",[],function(){return $.cookie=function(e,t,n){var o,i,a,r;return arguments.length>1&&"[object Object]"!==String(t)?(n=$.extend({},n),null!==t&&void 0!==t||(n.expires=-1),"number"==typeof n.expires&&(o=24*n.expires*60*60*1e3,i=n.expires=new Date,i.setTime(i.getTime()+o)),t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")):(n=t||{},r=n.raw?function(e){return e}:decodeURIComponent,(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?r(a[1]):null)}}),define("api",["tool-cookie"],function(){var e={};e.regist=function(t,n,o,i){o=o||{},i=i||{};var a=null;return e[t]?alert("接口###"+t+"###已经被注册，请变更接口名称"):void(e[t]=function(e,r){return a&&(a.abort(),a=null),"function"==typeof e&&(r=e,e={}),a=$.ajax({url:n,data:$.extend(o,e),type:i.type||"get",dataType:i.dataType||"jsonp",success:function(e){r&&r(e)},error:function(e){console.log("Error: api("+t+")",e)},complete:function(){a=null}})})};var t=((new Date).getTime(),{init:function(){this.regist()},param:{searchParam:{a:"getWordMean",c:"search"},searchWordUrl:"http://www.iciba.com/index.php"},regist:function(){e.regist("baseinfo",this.param.searchWordUrl,$.extend({},this.param.searchParam,{list:"1,7,17"})),e.regist("maincontent",this.param.searchWordUrl,$.extend({},this.param.searchParam,{list:"1,2,3,4,5,8,9,10,12,13,14,15,18,21,22,24,3003,3004,3005"}))}});return t.init(),e}),define("history",[],function(){var e=$("<div>"),t=$.extend(window.history,{getLast:function(e){e=e||window.location.href;var t=e.split("?"),n=t.shift(),o=t.join("?");return(n.split("/").reverse()[0]||"")+(o?"?"+o:"")},go:function(n,o){if(t.getLast()!==n)return"undefined"==typeof o&&(o={url:n}),e.trigger("beforeGo"),window.location.pathname=n},to:function(n,o){"undefined"==typeof o&&(o={url:n}),e.trigger("beforeTo"),t.replaceState?(t.replaceState(o,document.title,n),e.trigger("to",o)):window.location.pathname=n},on:function(t,n){e.on(t,n)},click:function(e,n){return t.go(n||t.getLast(this.getAttribute("href"))),e.preventDefault(),!1},setGlobelClick:function(){var e=Array.prototype.slice.call(arguments),n=function(t){for(var n=0;n<e.length;n++)if(0===t.indexOf(e[n])){var o=t.replace(e[n],"");if(o)return o}return!1};$(document).on("click",function(e){var o="a"===e.target.tagName?$(e.target):$(e.target).closest("a");if(o.length){var i=n(o.attr("href"));i&&(e.preventDefault(),t.go(i))}})},init:function(n){n=n||{url:t.getLast()},t.replaceState?t.replaceState(n,document.title,t.getLast()):t.state=n,e.trigger("go",t.state),window.addEventListener&&window.addEventListener("popstate",function(n){e.trigger("go",t.state)},!1)}});return t}),define("m-search",["api","history"],function(e,t){e.regist("getsuggest","http://dict-mobile.iciba.com/interface/index.php",{c:"word",m:"getsuggest",nums:10,ck:"709a0db45332167b0e2ce1868b84773e",timestamp:(new Date).getTime(),client:6,uid:0,is_need_mean:1}),e.regist("hotword","http://dict-mobile.iciba.com/interface/index.php",{c:"hotword",m:"getword",client:4,type:1,timestamp:1449818906,uuid:"45E0C158-F794-4F5C-90BB-69FA54F9CD53",v:"8.2.4",sv:"iPhoneOS7.1.1",sign:"7094eb96b203669e",uid:"",wtype:1,size:10,lang:1}),e.regist("getCheckAd","http://activity.iciba.com/index.php",{c:"pc_prize",m:"getWWWSuggestAdLink"});var n=function(){e.getCheckAd({},function(e){u.adUrl=e.adLink})},o=function(t,n){e.getsuggest({word:t},function(e){u.index=-1,1===e.status?u.suggest=$.map(e.message,function(e){e.title=e.key;var t=e.means[0];return t&&(e.content=t.part+" "+t.means.join(", ")),e}):u.suggest.clear(),n&&n(e)})},i=function(e){var t=decodeURIComponent($.cookie("c_word_history")||""),t=$.cookie("search-history");t&&(u.history=t.split(","))},a=function(t){u.hotword.length||e.hotword({size:10},function(e){1===e.status?u.hotword=e.message:console.log("Error: (api:hotword)",e),t&&t(e)})},r=null,s=!0;setTimeout(function(){s=!1},1e3);var c=function(e,t){return e===t||$.contains(e,t)},l={doc:$(document).on("click",function(e){c(l.hot.get(0),e.target)||c(l.word.get(0),e.target)||l.word.hide()}),main:$(".search"),input:$("#search-input"),box:$(".search-box"),hot:$(".search-hot").on("click",function(){l.word.show()}),word:$(".search-word"),checkFixShow:function(e,t,n,o){return n[e<=this.doc.scrollTop()+t?"addClass":"removeClass"](o)},set:function(e){u.value!==e&&(u.value=e),setTimeout(function(){l.input.select()},200);var t=u.history.indexOf(e);t!==-1&&u.history.splice(t,1),u.history.unshift(e),$.cookie("search-history",u.history.$model.join(","))},init:function(){a(),$(".search-input-main").on("mousedown mouseup dblclick",function(e){e.stopPropagation()})}},u=avalon.define({$id:"search",value:"",index:-1,focusing:!1,adUrl:"",focus:function(){u.focusing=!0},blur:function(){u.focusing=!1},input:function(){clearTimeout(r),r=setTimeout(function(){return s?s=!1:void o($("#search-input").val())},300)},cursorEnd:function(){var e=document.getElementById("search-input"),t=e.value.length;if(document.selection){var n=e.createTextRange();n.moveStart("character",t),n.collapse(),n.select()}else"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd&&(e.selectionStart=e.selectionEnd=t)},keydown:function(e){switch(e.keyCode){case 38:var t=u.index-1;return t<0&&(t=0),u.index=t,e.preventDefault(),setTimeout(function(){u.value=$(".search-suggest-item-on .search-suggest-main").text().trim(),setTimeout(function(){u.cursorEnd()},100)},200),!1;case 40:var n=u.index+1;return n>u.suggest.length-1&&(n=u.suggest.length-1),u.index=n,e.preventDefault(),setTimeout(function(){u.value=$(".search-suggest-item-on .search-suggest-main").text().trim(),setTimeout(function(){u.cursorEnd()},100)},200),!1;case 13:u.submit(),clearTimeout(r)}},submit:function(){if(l.input.select(),u.index>-1)t.go(u.suggest[u.index].title);else if(l.input.val()){var e=l.input.val();e=e.replace(/\(/g,"<").replace(/\)/g,">"),t.go($.trim(e))}u.suggest.clear()},mousedown:function(e){var n=$(e.target).closest("a").get(0);n&&$.contains(this,n)&&(t.go(t.getLast(n.getAttribute("href"))),u.suggest.clear())},clear:function(){u.value="",u.suggest.clear(),l.input.focus()},hideWord:function(){l.word.hide()},hotword:[],history:[],suggest:[]});return avalon.scan(l.main.get(0),u),setTimeout(function(){l.init();var e=l.box.offset().top;l.checkFixShow(e,0,l.main,"search-fix"),$(window).on("scroll",function(){l.checkFixShow(e,0,l.main,"search-fix")})},100),i(),n(),l}),define("menu",["m-search","tool-cookie"],function(e){var t={map:[{name:"基础知识",list:[{name:"基础释义",word:["baesInfo"]},{name:"双语例句",word:["sentence","jushi","auth_sentence"]},{name:"四六级真题",word:["cetFour","cetSix"]}]},{name:"权威解析",list:[{name:"柯林斯",word:["collins"]},{name:"牛津词典",word:["oxford"]},{name:"词根词组",word:["stems_affixes","phrase"]},{name:"同反义词",word:["synonym","sameAnalysis","antonym"]},{name:"英汉双解",word:["ee_mean","bidec","bidce"]},{name:"汉语词典",word:["chinese"]}]},{name:"词汇扩展",list:[{name:"网络释义",word:["netmean"]},{name:"行业词典",word:["trade_means"]},{name:"百科",word:["encyclopedia"]}]}],doc:$(document),main:$(".menu"),button:$(".menu-button").on("click",function(){t.button.toggleClass(t.buttonClassName),"undefined"!=typeof ICIBA_HUAYI_ALLOW&&(ICIBA_HUAYI_ALLOW=!ICIBA_HUAYI_ALLOW,$.cookie(t.buttonCookieName,Number(ICIBA_HUAYI_ALLOW)))}),buttonClassName:"menu-button-off",buttonCookieName:"search-menu-button-status",setButton:function(){var e=$.cookie(this.buttonCookieName);0!==e&&"0"!==e||(ICIBA_HUAYI_ALLOW=!1,this.button.addClass(this.buttonClassName))},set:function(e){"undefined"==typeof e.errno||404==e.errno||3011==e.errno?0==e.oxford:e.oxford=e.oxford||!0;var o=0,i=[];$.each(t.map,function(t,n){var a=[];$.each(n.list,function(t,n){$.each(n.word,function(t,i){if(e.hasOwnProperty(i)){for(var r=0;r<a.length;r++)if(a[r].name===n.name)return;a.push({name:n.name,index:o++})}})}),a.length&&i.push({name:n.name,list:a})}),n.map=i,setTimeout(function(){$(".menu-content").slideDown(150),t.scrollReset()},10)},scrollElement:$("html, body"),scrollArray:[],scrollReset:function(){t.scrollArray=[],$(".info-article").each(function(){var e=$(this);"none"!==e.css("display")&&t.scrollArray.push(e.offset().top-75)}),t.checkMenuShow()},checkMenuShow:function(){if(!n.scrolling)for(var e=this.doc.scrollTop(),t=0;t<this.scrollArray.length;t++)if(e<=this.scrollArray[t]-1){n.index=0===t?0:t-1;break}},init:function(){this.setButton(),navigator.userAgent.indexOf("Mac")>0?$(".mac-download-btn").show():$(".mac-download-btn").hide()}},n=avalon.define({$id:"menu",map:[],toggle:function(e){var t=$(e.target).closest(".menu-title");t.length&&(t.parent().toggleClass("menu-group-add"),t.next().slideToggle(150))},index:0,scrolling:!1,scrollTo:function(e){var o=$(e.target).closest("[data-index]");if(o.length){var i=parseInt(o.attr("data-index"));if("undefined"!=typeof t.scrollArray[i]){if(n.scrolling)return;n.scrolling=!0,n.index=i,t.scrollElement.animate({scrollTop:t.scrollArray[i]},150,function(){setTimeout(function(){n.scrolling=!1},50)})}}}});return avalon.scan(t.main.get(0),n),t.main.show(),setTimeout(function(){offsetTop=t.main.offset().top,e.checkFixShow(offsetTop,75,t.main,"menu-fix"),$(window).on("scroll",function(){e.checkFixShow(offsetTop,75,t.main,"menu-fix"),t.checkMenuShow()})},100),t.init(),t}),define("tool-sound",[],function(){var e=null,t=function(e){return window.document[e]?window.document[e]:navigator.appName.indexOf("Microsoft Internet")==-1&&document.embeds&&document.embeds[e]?document.embeds[e]:document.getElementById(e)},n={set:function(n,o){var i=document.createElement("audio");if(null!=i&&i.canPlayType&&i.canPlayType("audio/mpeg"))e?e.src===n?e.paused?e.play():e.pause():(e.pause(),i.src=n,e=i,i.play()):(i.src=n,e=i,i.play());else{var a=t("asound_top");if(a)try{a.SetVariable("f",n),a.GotoFrame(1)}catch(r){}e=null}return o&&this.action(o),this},action:function(e){var t=$(e),n=t.get(0);return clearTimeout(n.__sound_action_timer),t.hasClass("icon-sound-play")?t.removeClass("icon-sound-play"):(t.addClass("icon-sound-play"),n.__sound_action_timer=setTimeout(function(){t.removeClass("icon-sound-play")},2e3)),this},scan:function(e){$("[data-sound]",e).each(function(){var e=$(this),t=e.attr("data-sound");e.removeAttr("data-sound"),e.addClass("icon-sound"),e.on("click",function(){n.set(t,this)})})}};return n}),define("tool-filters",[],function(){var e={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};return avalon.filters.month=function(t){return e[t.substr(5,2)]},avalon.filters.numToLetter=function(e){return String.fromCharCode(65+parseInt(e))},avalon.filters.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},avalon.filters}),define("sentence",["tool-sound","tool-filters"],function(e){var t={main:$(".sentence"),init:function(o){this.init=$.noop,$.ajax({url:"http://sentence.iciba.com/index.php",data:{c:"dailysentence",m:"getTodaySentence"},dataType:"jsonp",success:function(i){0===i.errno?(n.picture=i.picture,n.title=i.title,n.content=i.content,n.note=i.note,n.tts=i.tts,t.main.fadeIn(250,o),setTimeout(function(){e.scan(t.main)},10)):console.log(i)}}),$(".dl-banner").unslider({autoplay:!0,speed:1500,delay:3500,complete:function(){},keys:!0,dots:!1,arrows:!1,fluid:!1,infinite:!0})}},n=avalon.define({$id:"sentence",picture:"",title:"",content:"",note:"",tts:"",currentIndex:0,setCurrentIndex:function(e){n.currentIndex=e}});return avalon.scan(t.main.get(0),n),t}),define("recommend",[],function(){var e={main:$(".recommend"),init:function(n){this.init=$.noop,$.ajax({url:"http://news.iciba.com/index.php",data:{mod:"new_functions",act:"get_recommend"},dataType:"jsonp",success:function(o){1===o.status?(t.list=o.message.data.splice(1,4),e.main.fadeIn(250,n)):console.log(o)}})}},t=avalon.define({$id:"recommend",list:[]});return avalon.scan(e.main.get(0),t),e}),define("tool-get",[],function(){var e=function(e){var t={};return e.split("&").forEach(function(e){var n;e&&(n=e.split("=")),n&&n[0]&&(t[n[0]]=n[1])}),t},t=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")},n=function(e,n){return"string"!=typeof n&&(n=t(n)),e=e.trim(),n=n.trim(),e.indexOf("?")>-1?e.match(/\&$/)?e+n:e+"&"+n:e+"?"+n},o=function(){return e(window.location.search.replace(/^\?/,""))};return{get:o,data:o(),parse:e,stringify:t,add:n}}),define("tool-refresh",[],function(){var e=function(){this.src=this.src},t=function(){this.innerHTML='<script type="text/javascript">'+this.__refresh_html+"</script>";var e=document.createElement("script");e.type="text/javascript",this.appendChild(e),e.src=this.__refresh_src+"&t="+(new Date).getTime()},n={iframe:{refreshAll:function(){$.each(this,function(){this.__refresh&&this.__refresh()})}}};return $("[data-refresh]").each(function(){var o=this.getAttribute("data-refresh");if("iframe"===this.tagName.toLowerCase())n.iframe[o]=this,this.__refresh=e;else{var i=$("#"+o);n[o]=this,this.__refresh_src=i.attr("_src"),this.__refresh_html=i.html(),this.__refresh=t,this.__refresh(),i.remove()}}),n}),define("dialog",[],function(){var e=$(".dialog"),t=avalon.define({$id:"dialog",pic:"",url:"javascript:void(0)",show:!1,hide:function(){t.show=!1}});return avalon.scan(e.get(0),t),{set:function(e){t.pic=e.pic,t.url=e.url},show:function(){t.show=!0},hide:function(){t.show=!1}}}),define("download",[],function(){var e=$(".download"),t=function(){e.remove(),e=t=null};navigator.userAgent.indexOf("Window")>0||navigator.userAgent.indexOf("Mac")>0?(e.show(),$(".download-close").one("click",function(){e.animate({marginTop:-e.height()},400,function(){t()})}),$(".download-main").click(function(){navigator.userAgent.indexOf("Mac")>0?window.open("http://download.iciba.com/mac/mac1.0.1/PowerWord.dmg"):window.open("http://hoplink.ksosoft.com/wnx0")})):t()}),function(e){"function"==typeof define&&define.amd?define("tinyscrollbar",e):"object"==typeof exports?module.exports=e():e(jQuery)}(function(){function e(e,o){function i(){return h.update(),r(),h}function a(){w.css(S,h.thumbPosition),m.css(S,-h.contentPosition),g.css(x,h.trackSize),b.css(x,h.trackSize),w.css(x,h.thumbSize)}function r(){v?p[0].ontouchstart=function(e){1===e.touches.length&&(e.stopPropagation(),l(e.touches[0]))}:(w.bind("mousedown",function(e){e.stopPropagation(),l(e)}),b.bind("mousedown",function(e){l(e,!0)})),$(window).resize(function(){h.update("relative")}),h.options.wheel&&window.addEventListener?e[0].addEventListener(y,u,!1):h.options.wheel&&(e[0].onmousewheel=u)}function s(){return h.contentPosition>0}function c(){return h.contentPosition<=h.contentSize-h.viewportSize-5}function l(e,t){h.hasContentToSroll&&($("body").addClass("noSelect"),_=t?w.offset()[S]:k?e.pageX:e.pageY,v?(document.ontouchmove=function(e){(h.options.touchLock||s()&&c())&&e.preventDefault(),d(e.touches[0])},document.ontouchend=f):($(document).bind("mousemove",d),$(document).bind("mouseup",f),w.bind("mouseup",f),b.bind("mouseup",f)),d(e))}function u(t){if(h.hasContentToSroll){var n=t||window.event,o=-(n.deltaY||n.detail||-1/3*n.wheelDelta)/40,i=1===n.deltaMode?h.options.wheelSpeed:1;h.contentPosition-=o*i*h.options.wheelSpeed,h.contentPosition=Math.min(h.contentSize-h.viewportSize,Math.max(0,h.contentPosition)),h.thumbPosition=h.contentPosition/h.trackRatio,e.trigger("move"),w.css(S,h.thumbPosition),m.css(S,-h.contentPosition),(h.options.wheelLock||s()&&c())&&(n=$.event.fix(n),n.preventDefault())}}function d(t){if(h.hasContentToSroll){var n=k?t.pageX:t.pageY,o=v?_-n:n-_,i=Math.min(h.trackSize-h.thumbSize,Math.max(0,h.thumbPosition+o));h.contentPosition=i*h.trackRatio,e.trigger("move"),w.css(S,i),w.css("backgroundColor","#b8c1ca"),m.css(S,-h.contentPosition)}}function f(){h.thumbPosition=parseInt(w.css(S),10)||0,$("body").removeClass("noSelect"),$(document).unbind("mousemove",d),$(document).unbind("mouseup",f),w.unbind("mouseup",f),w.css("backgroundColor","#e8ecef"),b.unbind("mouseup",f),document.ontouchmove=document.ontouchend=null}this.options=$.extend({},n,o),this._defaults=n,this._name=t;var h=this,p=e.find(".viewport"),m=e.find(".overview"),g=e.find(".scrollbar"),b=g.find(".track"),w=g.find(".thumb"),v="ontouchstart"in document.documentElement,y="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",k="x"===this.options.axis,x=k?"width":"height",S=k?"left":"top",_=0;return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.hasContentToSroll=!1,this.update=function(e){var t=x.charAt(0).toUpperCase()+x.slice(1).toLowerCase();switch(this.viewportSize=p[0]["offset"+t],this.contentSize=m[0]["scroll"+t],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(this.options.thumbSizeMin,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize),this.hasContentToSroll=this.contentRatio<1,g.toggleClass("disable",!this.hasContentToSroll),e){case"bottom":this.contentPosition=Math.max(this.contentSize-this.viewportSize,0);break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(e,10)||0}return this.thumbPosition=this.contentPosition/this.trackRatio,a(),h},i()}var t="tinyscrollbar",n={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,touchLock:!0,trackSize:!1,thumbSize:!1,thumbSizeMin:20};$.fn[t]=function(n){return this.each(function(){$.data(this,"plugin_"+t)||$.data(this,"plugin_"+t,new e($(this),n))})}}),!function(e,t){function n(e,n){function o(){A.hasOwnProperty(O)&&delete A[O],z=null}function i(){var e=0;for(var t in z.tables)z.tables.hasOwnProperty(t)&&e++;return e}function a(e){return z.tables[e].fields}function r(e){return!!z.tables[e]}function s(e){r(e)||S("The table '"+e+"' does not exist")}function c(e,t){var n=!1,o=z.tables[e].fields;for(var i in o)if(o[i]==t){n=!0;break}return n}function l(e,t){z.tables[e]={fields:t,auto_increment:1},z.data[e]={}}function u(e){delete z.tables[e],delete z.data[e]}function d(e){z.tables[e].auto_increment=1,z.data[e]={}}function f(e,t,n){if(z.tables[e].fields=z.tables[e].fields.concat(t),"undefined"!=typeof n)for(var o in z.data[e])if(z.data[e].hasOwnProperty(o))for(var i in t)"object"==typeof n?z.data[e][o][t[i]]=n[t[i]]:z.data[e][o][t[i]]=n}function h(e){var t=0;for(var n in z.data[e])z.data[e].hasOwnProperty(n)&&t++;return t}function p(e,t){return t.ID=z.tables[e].auto_increment,z.data[e][z.tables[e].auto_increment]=t,z.tables[e].auto_increment++,t.ID}function m(e,n,o,i,a,r){for(var s=null,c=[],l=null,u=0;u<n.length;u++)s=n[u],l=z.data[e][s],c.push(_(l));if(a&&a instanceof Array)for(var u=0;u<a.length;u++)c.sort(g(a[u][0],a[u].length>1?a[u][1]:null));if(r&&r instanceof Array){for(var d=0;d<r.length;d++)for(var f={},h=r[d],u=0;u<c.length;u++)c[u]!==t&&(c[u].hasOwnProperty(h)&&f.hasOwnProperty(c[u][h])?delete c[u]:f[c[u][h]]=1);for(var p=[],u=0;u<c.length;u++)c[u]!==t&&p.push(c[u]);c=p}return o=o&&"number"==typeof o?o:null,i=i&&"number"==typeof i?i:null,o&&i?c=c.slice(o,o+i):o?c=c.slice(o):i&&(c=c.slice(o,i)),c}function g(e,t){return function(n,o){var i="string"==typeof n[e]?n[e].toLowerCase():n[e],a="string"==typeof o[e]?o[e].toLowerCase():o[e];return"DESC"===t?i==a?0:i<a?1:-1:i==a?0:i>a?1:-1}}function b(e,t){var n=[],o=!1,i=null;for(var a in z.data[e])if(z.data[e].hasOwnProperty(a)){i=z.data[e][a],o=!0;for(var r in t)if(t.hasOwnProperty(r))if("string"==typeof t[r]){if(null===i[r]||i[r].toString().toLowerCase()!=t[r].toString().toLowerCase()){o=!1;break}}else if(i[r]!=t[r]){o=!1;break}o&&n.push(a)}return n}function w(e,t){var n=[],o=null;for(var i in z.data[e])z.data[e].hasOwnProperty(i)&&(o=z.data[e][i],1==t(_(o))&&n.push(i));return n}function v(e){var t=[];for(var n in z.data[e])z.data[e].hasOwnProperty(n)&&t.push(n);return t}function $(e,t){for(var n=0;n<t.length;n++)z.data[e].hasOwnProperty(t[n])&&delete z.data[e][t[n]];return t.length}function y(e,t,n){for(var o="",i=0,a=0;a<t.length;a++){o=t[a];var r=n(_(z.data[e][o]));if(r){delete r.ID;var s=z.data[e][o];for(var c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);z.data[e][o]=C(e,s),i++}}return i}function k(){try{return A.setItem(O,JSON.stringify(z)),!0}catch(e){return!1}}function x(){return JSON.stringify(z)}function S(e){throw new Error(e)}function _(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function T(e){return!e.toString().match(/[^a-z_0-9]/gi)}function C(e,n){for(var o="",i={},a=0;a<z.tables[e].fields.length;a++)o=z.tables[e].fields[a],n[o]!==t&&(i[o]=n[o]);return i}function I(e,n){for(var o="",i={},a=0;a<z.tables[e].fields.length;a++)o=z.tables[e].fields[a],i[o]=null===n[o]||n[o]===t?null:n[o];return i}var P="db_",O=P+e,j=!1,z=null;try{var A=n==sessionStorage?sessionStorage:localStorage}catch(E){var A=n}return z=A[O],z&&(z=JSON.parse(z))&&z.tables&&z.data||(T(e)?(z={tables:{},data:{}},k(),j=!0):S("The name '"+e+"' contains invalid characters")),{commit:function(){return k()},isNew:function(){return j},drop:function(){o()},serialize:function(){return x()},tableExists:function(e){return r(e)},tableFields:function(e){return a(e)},tableCount:function(){return i()},columnExists:function(e,t){return c(e,t)},createTable:function(e,t){var n=!1;if(T(e))if(this.tableExists(e))S("The table name '"+e+"' already exists.");else{for(var o=!0,i=0;i<t.length;i++)if(!T(t[i])){o=!1;break}if(o){for(var a={},i=0;i<t.length;i++)a[t[i]]=!0;delete a.ID,t=["ID"];for(var r in a)a.hasOwnProperty(r)&&t.push(r);l(e,t),n=!0}else S("One or more field names in the table definition contains invalid characters")}else S("The database name '"+e+"' contains invalid characters.");return n},createTableWithData:function(e,t){("object"!=typeof t||!t.length||t.length<1)&&S("Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]");var n=Object.keys(t[0]);if(this.createTable(e,n)){this.commit();for(var o=0;o<t.length;o++)p(e,t[o])||S("Failed to insert record: ["+JSON.stringify(t[o])+"]");this.commit()}return!0},dropTable:function(e){s(e),u(e)},truncate:function(e){s(e),d(e)},alterTable:function(e,t,n){var o=!1;if(T(e)){if("object"==typeof t){for(var i=!0,a=0;a<t.length;a++)if(!T(t[a])){i=!1;break}if(i){for(var r={},a=0;a<t.length;a++)r[t[a]]=!0;delete r.ID,t=[];for(var s in r)r.hasOwnProperty(s)&&t.push(s);f(e,t,n),o=!0}else S("One or more field names in the table definition contains invalid characters")}else if("string"==typeof t)if(T(t)){var c=[];c.push(t),f(e,c,n),o=!0}else S("One or more field names in the table definition contains invalid characters")}else S("The database name '"+e+"' contains invalid characters");return o},rowCount:function(e){return s(e),h(e)},insert:function(e,t){return s(e),p(e,I(e,t))},insertOrUpdate:function(e,t,n){s(e);var o=[];if(t?"object"==typeof t?o=b(e,C(e,t)):"function"==typeof t&&(o=w(e,t)):o=v(e),0==o.length)return p(e,I(e,n));for(var i=[],a=0;a<o.length;a++)y(e,o,function(e){return i.push(e.ID),n});return i},update:function(e,t,n){s(e);var o=[];return t?"object"==typeof t?o=b(e,C(e,t)):"function"==typeof t&&(o=w(e,t)):o=v(e),y(e,o,n)},query:function(e,t,n,o,i,a){s(e);var r=[];return t?"object"==typeof t?r=b(e,C(e,t),n,o):"function"==typeof t&&(r=w(e,t,n,o)):r=v(e,n,o),m(e,r,o,n,i,a)},queryAll:function(e,t){return t?this.query(e,t.hasOwnProperty("query")?t.query:null,t.hasOwnProperty("limit")?t.limit:null,t.hasOwnProperty("start")?t.start:null,t.hasOwnProperty("sort")?t.sort:null,t.hasOwnProperty("distinct")?t.distinct:null):this.query(e)},deleteRows:function(e,t){s(e);var n=[];return t?"object"==typeof t?n=b(e,C(e,t)):"function"==typeof t&&(n=w(e,t)):n=v(e),$(e,n)}}}"function"==typeof define&&define.amd?define("localstoragedb",[],function(){return n}):e.localStorageDB=n}(window),define("生词本",["tinyscrollbar","localstoragedb"],function(e,t){function n(){$.ajax({url:"./ajax/notebooklist/"+$("#search-input").val(),type:"post",data:"&u="+s(),dataType:"json",success:function(e){o(e),i(e)}})}function o(e){var t=$(".scb-list"),n="";if(0!=e.status)for(var o=0,i=e.books.length;o<i;o++)n+="<li class='color-"+o%7+"'><i class='circle'></i><span class='name' data-bookid='"+e.books[o].book_id+"'>"+e.books[o].book_name+"</span><i class='check'></i></li>",u.push(e.books[o].book_name);if(window.localStorage.getItem("db_scbLib_"+s())){var a=JSON.parse(window.localStorage.getItem("db_scbLib_"+s())),r=a.data.books;bookArr=$.map(r,function(e){return e});for(var o=0;o<bookArr.length;o++)n+="<li class='color-"+o%7+"'><i class='circle'></i><span class='name' data-bookid='0'>"+bookArr[o].n+"</span><i class='check'></i></li>"}t.html(n)}function i(e){window.localStorage.setItem("ScbClientVersion",e.clientVersion?e.clientVersion:0)}function a(){var e=$.parseJSON(window.localStorage.getItem("db_scbLib_"+s()));if(e){var t=e.data.books,n=e.data.words,o=$.map(t,function(e){return e}),i=$.map(n,function(e){return e}),a=window.localStorage.getItem("ScbClientVersion")?window.localStorage.getItem("ScbClientVersion"):0,r=JSON.stringify(o),c=JSON.stringify(i);return!(o.length<1&&i.length<1)&&void $.ajax({url:"./ajax/notebook/"+a,type:"post",data:"b="+r+"&w="+c+"&u="+s(),dataType:"json",success:function(e){0==e[0].errno&&(window.lib.deleteRows("books",function(e){return!0}),window.lib.deleteRows("words",function(e){return!0}),window.lib.commit(),window.localStorage.setItem("ScbClientVersion",e[0].clientVersion))}})}}function r(e,t){window.lib.insert("words",{w:$("#search-input").val(),p:e,i:t}),window.lib.commit(),setTimeout(a,100)}function s(){var e=$.cookie("_ustat");return e?$.parseJSON(e).i:0}function c(e){for(var t=0;t<u.length;t++)if(u[t]==e)return $(".tip1").show(),!1;if(window.localStorage.getItem("db_scbLib_"+s())){var n=JSON.parse(window.localStorage.getItem("db_scbLib_"+s())),o=n.data.books;bookArr=$.map(o,function(e){return e});for(var t=0;t<bookArr.length;t++)if(bookArr[t].n==e)return $(".tip1").show(),!1}return!0}function l(e){return""==e?($(".tip4").show(),!1):/^[A-Za-z0-9\u4e00-\u9fa5]+$/.test(e)?!(e.length>24)||($(".tip3").show(),!1):($(".tip2").show(),!1)}window.ScbName=[],$(".scb-create").click(function(){$(".scb-mask").show(),$("#textarea").focus()}),$(".scb-btn").click(function(e){s()>0?($(".scb-btn .scb-icon").hasClass("active")?($(".scb-btn .scb-icon").removeClass("active"),$(".scb-con").slideUp()):($(".scb-btn .scb-icon").addClass("active"),$(".scb-con").slideDown(),n()),e.stopPropagation(),setTimeout(function(){var e=$("#scrollbar1");e.tinyscrollbar(),window.box=e.data("plugin_tinyscrollbar")},500)):window.location.href="http://my.iciba.com/?returnurl="+window.location.href}),$(".scb-con").click(function(e){e.stopPropagation()}),$(document).click(function(e){$(".scb-btn .scb-icon").removeClass("active"),$(".scb-con").slideUp()}),$(".scb-list").delegate("span","click",function(){var e=$(this).text(),t=$(this).attr("data-bookid")?$(this).attr("data-bookid"):0;r(e,t),$(".scb-con").slideUp()}),$(".scb-entry a.go-scb").click(function(){return a(),window.open("http://scb.iciba.com"),!1}),$(".scb-list").delegate("li","click",function(){$(this).find("i.check").css({opacity:"1"}).animate({opacity:0},1500)}),window.setInterval(a,6e4),window.lib=new t("scbLib_"+s(),localStorage);var u=window.ScbName;return lib.isNew()&&(lib.createTable("books",["n"]),lib.createTable("words",["w","p","i"]),lib.commit()),$("#textarea").keyup(function(e){$(".tip1").hide(),$(".tip2").hide(),$(".tip3").hide(),$(".tip4").hide(),e.stopPropagation()}),$("#scb_cancel").click(function(){$(".scb-mask").hide()}),$(".scb-mask").click(function(e){e.stopPropagation()}),function(){var e=0;$("#scb_create").click(function(){var t=$("#textarea").val(),n=c(t),o=l(t);n&&o&&(lib.insert("books",{n:t}),lib.commit(),$(".scb-list").prepend("<li class='color-"+e%7+"'><i class='circle'></i><span class='name'>"+t+"</span><i class='check'></i></li>"),e++,box.update(),$("#textarea").val(""),$(".scb-mask").hide())})}(),u}),!function(){function e(e){return e.replace(v,"").replace($,",").replace(y,"").replace(k,"").replace(x,"").split(/^$|,+/)}function t(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,o){function i(e){return f+=e.split(/\n/).length-1,u&&(e=e.replace(/\s+/g," ").replace(/<!--.*?-->/g,"")),e&&(e=w[1]+t(e)+w[2]+"\n"),e}function a(t){var n=f;if(l?t=l(t,o):r&&(t=t.replace(/\n/g,function(){return f++,"$line="+f+";"})),0===t.indexOf("=")){var i=d&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),i){var a=t.replace(/\s*\([^\)]+\)/,"");h[a]||/^(include|print)$/.test(a)||(t="$escape("+t+")")}else t="$string("+t+")";t=w[1]+t+w[2]}return r&&(t="$line="+n+";"+t),b(e(t),function(e){if(e&&!m[e]){var t;t="print"===e?$:"include"===e?y:h[e]?"$utils."+e:p[e]?"$helpers."+e:"$data."+e,k+=e+"="+t+",",m[e]=!0}}),t+"\n"}var r=o.debug,s=o.openTag,c=o.closeTag,l=o.parser,u=o.compress,d=o.escape,f=1,m={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,w=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],v=g?"$out+=text;return $out;":"$out.push(text);",$="function(){var text=''.concat.apply('',arguments);"+v+"}",y="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+v+"}",k="var $utils=this,$helpers=$utils.$helpers,"+(r?"$line=0,":""),x=w[0],S="return new String("+w[3]+");";b(n.split(s),function(e){e=e.split(c);var t=e[0],n=e[1];1===e.length?x+=i(t):(x+=a(t),n&&(x+=i(n)))});var _=k+x+S;r&&(_="try{"+_+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+t(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var T=new Function("$data","$filename",_);return T.prototype=h,T}catch(C){throw C.temp="function anonymous($data,$filename) {"+_+"}",C}}var o=function(e,t){return"string"==typeof t?g(t,{filename:e}):r(e,t)};o.version="3.0.0",o.config=function(e,t){i[e]=t};var i=o.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},a=o.cache={};o.render=function(e,t){return g(e,t)};var r=o.renderFile=function(e,t){var n=o.get(e)||m({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};o.get=function(e){var t;if(a[e])t=a[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var o=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=g(o,{filename:e})}}return t};var s=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?s(e.call(e)):""),e},c={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},l=function(e){return c[e]},u=function(e){return s(e).replace(/&(?![\w#]+;)|[<>"']/g,l)},d=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},f=function(e,t){var n,o;if(d(e))for(n=0,o=e.length;o>n;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)},h=o.utils={$helpers:{},$include:r,$string:s,$escape:u,$each:f};o.helper=function(e,t){p[e]=t};var p=o.helpers=h.$helpers;o.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var m=function(e){return o.onerror(e),function(){return"{Template Error}"}},g=o.compile=function(e,t){function o(n){try{return new c(n,s)+""}catch(o){return t.debug?m(o)():(t.debug=!0,g(e,t)(n))}}t=t||{};for(var r in i)void 0===t[r]&&(t[r]=i[r]);var s=t.filename;try{var c=n(e,t)}catch(l){return l.filename=s||"anonymous",l.name="Syntax Error",m(l)}return o.prototype=c.prototype,o.toString=function(){return c.toString()},s&&t.cache&&(a[s]=o),o},b=h.$each,w="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",v=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,$=/[^\w$]+/g,y=new RegExp(["\\b"+w.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),k=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g;
i.openTag="{{",i.closeTag="}}";var S=function(e,t){var n=t.split(":"),o=n.shift(),i=n.join(":")||"";return i&&(i=", "+i),"$helpers."+o+"("+e+i+")"};i.parser=function(e,t){e=e.replace(/^\s/,"");var n=e.split(" "),i=n.shift(),a=n.join(" ");switch(i){case"if":e="if("+a+"){";break;case"else":n="if"===n.shift()?" if("+n.join(" ")+")":"",e="}else"+n+"{";break;case"/if":e="}";break;case"each":var r=n[0]||"$data",s=n[1]||"as",c=n[2]||"$value",l=n[3]||"$index",u=c+","+l;"as"!==s&&(r="[]"),e="$each("+r+",function("+u+"){";break;case"/each":e="});";break;case"echo":e="print("+a+");";break;case"print":case"include":e=i+"("+n.join(",")+");";break;default:if(-1!==a.indexOf("|")){var d=t.escape;0===e.indexOf("#")&&(e=e.substr(1),d=!1);for(var f=0,h=e.split("|"),p=h.length,m=d?"$escape":"$string",g=m+"("+h[f++]+")";p>f;f++)g=S(g,h[f]);e="=#"+g}else e=o.helpers[i]?"=#"+i+"("+n.join(",")+");":"="+e}return e},"function"==typeof define?define("dep-template",[],function(){return o}):"undefined"!=typeof exports?module.exports=o:this.template=o}(),define("download-tip",["dep-template","dialog"],function(e,t){var n={isMac:/macintosh|mac os x/i.test(window.navigator.userAgent),obj:{cbCookieTime:null,cbCookieNum:null,cbCookieNo:null},init:function(){var e,t=this;if(this.obj.cbCookie=$.cookie("cbdownload_time"),this.obj.cbCookieNum=$.cookie("cbdownload_num"),this.obj.cbCookieNo=$.cookie("cbdownload_no"),this.obj.cbCookie){if(e=parseInt(this.obj.cbCookieNum)+1,5==e||20==e){var n=$(".cb-downmask");0==n.length?t.func.renderDownTpl():t.func.fbSlideDown();var o=$(".cb-downtop a");switch(e){case 5:this.isMac?o.attr("href","http://download.iciba.com/mac/mac1.0.1/PowerWord.dmg"):o.attr("href","http://hoplink.ksosoft.com/0hkq");break;case 20:this.isMac?o.attr("href","http://download.iciba.com/mac/mac1.0.1/PowerWord.dmg"):o.attr("href","http://hoplink.ksosoft.com/1li1")}}$.cookie("cbdownload_num",e,{expires:60})}else"true"!==this.obj.cbCookieNo&&this.obj.cbCookieNo!==!0&&($.cookie("cbdownload_num","1",{expires:60}),$.cookie("cbdownload_time","download",{expires:60}));t.bindEvent()},func:{renderDownTpl:function(){var t=this,n=e("downloadTipTpl");$("body").append(n),$(".cb-downdel").bind("click",function(){_czc.push(["_trackEvent","查词结果页","弹窗","关闭按钮","",""]),$(".cb-downwrap").slideUp(400,function(){$(".cb-downmask").fadeOut(400)})}),$(".cb-downtop a").bind("click",function(){$.cookie("cbdownload_num","21",{expires:60,domain:"www.iciba.com"}),_czc.push(["_trackEvent","查词结果页","弹窗","下载按钮","",""]),$(".cb-downtop").hide(),$(".cb-installtip").show()}),t.fbSlideDown()},fbSlideDown:function(){$(".cb-downmask").fadeIn(400,function(){$(".cb-downwrap").slideDown(400)})}},bindEvent:function(){$(".cb-downloadbar div");$(".cb-downloadbar").click(function(){t.set({pic:"//cdn.iciba.com/www/img/www/0312/dialog-download.png",url:"javascript:void(0)"}),t.show()})},cancel:function(){$.cookie("cbdownload_num",null),$.cookie("cbdownload_time",null),$.cookie("cbdownload_no",!0)}};return n.init(),n}),avalon.config.debug=!1,$(function(){require(["common","api","history","m-search","menu","sentence","recommend","tool-sound","tool-get","tool-refresh","dialog","download","生词本","tool-filters","download-tip"],function(e,t,n,o,i,a,r,s,c,l,u){var d=(decodeURIComponent(c.data.word||n.getLast()||""),{param:{baseInfoVm:null,mainContentVm:null},count:0,win:$(window),doc:$(document),html:$("html,body"),box:$(".container-left"),boxInfo:$(".js-base-info"),boxMain:$(".js-main-content"),gotoTop:function(e,t){"undefined"==typeof e&&(e=0),this.html.stop().animate({scrollTop:e},t||400)},init:function(){var e=this;window._czc=window._czc||[],_czc.push(["_setAccount","1256556802"]),this.baseInfoVm(),this.baseMainVm(),avalon.scan(),n.on("go",function(t,i){var a=0===e.count?c.data.word||n.getLast()||"":i.url;a=decodeURIComponent($.trim(a)),o.set(a),e.renderMainContent(a),e.count++}),this.toggleSet(),this.gotoTopSet(),this.doc.on("click",function(e){var t=$(e.target).closest("[data-cnzz]");t.length&&_czc.push(t.attr("data-cnzz").split(","))})},trimRegExp:function(e){return e.replace(/([\.\?\+\*\^\(\)\\\{\}\$\/])/g,"\\$1")},baseInfoVm:function(){this.param.baseInfoVm=avalon.define({$id:"baseinfo",sound:function(e){s.set(e,this)}})},baseMainVm:function(){var e=this.param.mainContentVm=avalon.define({$id:"mainContent",set:function(t,n){e[t]!=n&&(e[t]=n,setTimeout(function(){i.scrollReset()},100))},_word_flag:0,word:"",mainShow:!1,doublesentenceTag:0,synonymTag:0,solutionTag:0,phraseTag:0,hotTag:0,cetTag:0,data:{},trade:[],cetFlag:!1,exchanges:[],tradeCurrentFlag:0,sound:function(e){s.set(e,this)},tradeTab:function(t){e.trade=e.data.trade_means[t].word_mean.$model,e.tradeCurrentFlag=t,setTimeout(function(){i.scrollReset()},100)}})},handlerBaseInfo:function(e,t,n){this.param.baseInfoVm.data=t,this.box.show(),0==t.errno?(this.param.baseInfoVm.baseinfo=t.baesInfo,this.param.baseInfoVm.ischange=t.baesInfo&&t.baesInfo.exchange&&(t.baesInfo.exchange.word_pl&&t.baesInfo.exchange.word_pl.length||t.baesInfo.exchange.word_past&&t.baesInfo.exchange.word_past.length||t.baesInfo.exchange.word_done&&t.baesInfo.exchange.word_done.length||t.baesInfo.exchange.word_ing&&t.baesInfo.exchange.word_ing.length||t.baesInfo.exchange.word_third&&t.baesInfo.exchange.word_third.length),this.renderMainContent(e)):(console.log(t.errmsg),this.handlerMainContent(e,{}))},renderBaseinfo:function(e,n){var o=this;o.boxMain.hide(),t.baseinfo({word:e},function(t){o.handlerBaseInfo(e,t,!0)}),n&&o.gotoTop()},handlerMainContent:function(e,t,n){console.log(e),console.log(t),console.log(t.errno);var o=this.param.mainContentVm;o.data=t,this.initTabTag(o),0==t.errno?(o.tradeCurrentFlag=0,o.tradeCurrentFlag=0,o.trade=o.data.trade_means&&o.data.trade_means[0].word_mean,o.mainShow=!0,o.word=e,o.exchanges=t.exchanges,o._word_flag=t._word_flag,this.toggleReset(),this.boxMain.show()):o.mainShow=!1,setTimeout(function(){i.set(t)},100)},renderMainContent:function(e){var n=this;t.maincontent({word:e},function(t){n.handlerMainContent(e,t,!0),n.box.show()})},initTabTag:function(e){e.data.synonym?e.synonymTag=0:e.data.sameAnalysis?e.synonymTag=1:e.data.antonym&&(e.synonymTag=2),e.data.sentence?e.doublesentenceTag=0:e.data.jushi?e.doublesentenceTag=1:e.data.auth_sentence&&(e.doublesentenceTag=2),e.data.cetFour?e.cetTag=0:e.data.cetSix&&(e.cetTag=1),e.data.ee_mean?e.solutionTag=0:(e.data.bidec||e.data.bidce)&&(e.solutionTag=1),e.data.stems_affixes?e.phraseTag=0:e.data.phrase&&(e.phraseTag=1)},toggleSet:function(){this.doc.on("click",function(e){var t=$(e.target);if(t.hasClass("ico-display")){var n=t.closest(".info-article").find(".article");t.toggleClass("selected"),n.slideToggle(150,function(){i.scrollReset()})}})},toggleReset:function(){$(".ico-display").removeClass("selected"),$(".info-article .article").slideDown(150,function(){i.scrollReset()})},rightFixInit:0,rightFix:function(){if(!(d.rightFixInit++<1)){var e=$(".js-right-ad-fix"),t=e.position().top;o.checkFixShow(t,-175,e,"container-right-fix"),d.win.on("scroll",function(){o.checkFixShow(t,-175,e,"container-right-fix"),i.checkMenuShow()})}},gotoTopSet:function(){var e=this,t=$(".goto-top");t.not(".goto-top-2").on("click",function(){e.gotoTop(0)});var n=function(){t[e.doc.scrollTop()>1e3?"fadeIn":"fadeOut"](200)};n(),this.win.on("scroll",function(){n()})}});avalon.filters.wordtag=function(e){switch(e){case 0:e="考研&nbsp;/&nbsp;";break;case 1:e="CET6&nbsp;/&nbsp;";break;case 2:e="CET4&nbsp;/&nbsp;";break;case 3:e="GRE&nbsp;/&nbsp;";break;case 4:e="TOEFL&nbsp;/&nbsp;";break;case 5:e="IELTS"}return e},avalon.filters.parts=function(e){return e||(e="释义"),e},avalon.filters.highlight=function(e,t){var n=d.param.mainContentVm.exchanges.$model;return $.each(n,function(n,o){if(""!=o){if(o=d.trimRegExp(o.toLowerCase()),1==t)var i=new RegExp("("+o+")","gi");else var i=new RegExp("\\b("+o+")\\b","gi");i.test(e)&&(e=e.replace(i,"<b>$1</b>"))}}),e},avalon.filters.setKeyVal=function(e,t){var n=e.split("：");if(n.length>1){var o=n[0],i=n[1];return'<a href="/'+o+'" target="_blank">'+o+'</a><span class="family-chinese size-chinese">: '+i+"</span>"}return'<span class="family-chinese size-chinese">'+e+"</span>"},d.init(),n.init({url:c.data.word||""}),n.setGlobelClick("/","http://www.iciba.com/"),a.init(d.rightFix),r.init(d.rightFix)})}),define("search",function(){});